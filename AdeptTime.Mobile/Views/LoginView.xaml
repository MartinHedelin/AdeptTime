<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:AdeptTime.Mobile.ViewModels"
             x:Class="AdeptTime.Views.LoginView"
             Title="AdeptTime Login"
             BackgroundColor="#f8f9fa">
    
    <ContentPage.Resources>
        <ResourceDictionary>
            <viewModels:LoadingTextConverter x:Key="LoadingTextConverter" />
        </ResourceDictionary>
    </ContentPage.Resources>
    
    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="40,60,40,40">
            
            <!-- Logo/Header -->
            <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                <Label Text="AdeptTime"
                       FontSize="32"
                       FontAttributes="Bold"
                       TextColor="#2c3e50"
                       HorizontalOptions="Center" />
                <Label Text="Mobile Worker App"
                       FontSize="16"
                       TextColor="#7f8c8d"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>
            
            <!-- Login Form -->
            <VerticalStackLayout Spacing="20" Margin="0,40,0,0">
                
                <!-- Email Input -->
                <VerticalStackLayout Spacing="8">
                    <Label Text="Email Address" 
                           FontSize="14" 
                           FontAttributes="Bold"
                           TextColor="#2c3e50" />
                    <Entry x:Name="EmailEntry"
                           Text="{Binding Email}"
                           Placeholder="Enter your email"
                           Keyboard="Email"
                           BackgroundColor="White"
                           TextColor="#2c3e50"
                           PlaceholderColor="#95a5a6" />
                </VerticalStackLayout>
                
                <!-- Password Input -->
                <VerticalStackLayout Spacing="8">
                    <Label Text="Password" 
                           FontSize="14" 
                           FontAttributes="Bold"
                           TextColor="#2c3e50" />
                    <Entry x:Name="PasswordEntry"
                           Text="{Binding Password}"
                           Placeholder="Enter your password"
                           IsPassword="True"
                           BackgroundColor="White"
                           TextColor="#2c3e50"
                           PlaceholderColor="#95a5a6" />
                </VerticalStackLayout>
                
                <!-- Error Message -->
                <Label x:Name="ErrorLabel"
                       Text="{Binding ErrorMessage}"
                       TextColor="#e74c3c"
                       FontSize="14"
                       IsVisible="{Binding HasError}"
                       HorizontalOptions="Center" />
                
                <!-- Login Button -->
                <Button x:Name="LoginButton"
                        Text="{Binding IsLoading, Converter={StaticResource LoadingTextConverter}}"
                        Command="{Binding LoginCommand}"
                        BackgroundColor="#3498db"
                        TextColor="White"
                        FontSize="16"
                        FontAttributes="Bold"
                        HeightRequest="50"
                        CornerRadius="8"
                        IsEnabled="{Binding IsNotLoading}" />
                
                <!-- Worker Info -->
                <VerticalStackLayout Spacing="8" Margin="0,20,0,0">
                    <BoxView HeightRequest="1" BackgroundColor="#bdc3c7" />
                    <Label Text="Worker Access Only"
                           FontSize="12"
                           TextColor="#7f8c8d"
                           FontAttributes="Italic"
                           HorizontalOptions="Center" />
                    <Label Text="This mobile app is designed for field workers. Administrators should use the web application."
                           FontSize="11"
                           TextColor="#95a5a6"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center" />
                </VerticalStackLayout>
                
            </VerticalStackLayout>
            
        </VerticalStackLayout>
    </ScrollView>
    
</ContentPage>
